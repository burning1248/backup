# Generated by iptables-save v1.4.21 on Wed Aug  8 13:45:19 2018
*nat
:PREROUTING ACCEPT [7:380]
:INPUT ACCEPT [7:380]
:OUTPUT ACCEPT [9:540]
:POSTROUTING ACCEPT [9:540]
:KUBE-FW-HXNKLKFPVH67VVNR - [0:0]
:KUBE-FW-TCZPB7NCW5NUBBNF - [0:0]
:KUBE-FW-W3OX4ZP4Y24AQZNW - [0:0]
:KUBE-MARK-DROP - [0:0]
:KUBE-MARK-MASQ - [0:0]
:KUBE-NODEPORTS - [0:0]
:KUBE-POSTROUTING - [0:0]
:KUBE-SEP-AM7JXX3GVLWQUEGV - [0:0]
:KUBE-SEP-CUBL663WM5NZNNPD - [0:0]
:KUBE-SEP-EHB5LMMT7ZHPXTK7 - [0:0]
:KUBE-SEP-EX3CLRGG7675L5A5 - [0:0]
:KUBE-SEP-HMONFG7NF2GFVR6T - [0:0]
:KUBE-SEP-JVXIXMZ5HTKY5FKX - [0:0]
:KUBE-SEP-KPBZISPSGNLDQNT4 - [0:0]
:KUBE-SEP-NVGCG5W3FEWFHW7E - [0:0]
:KUBE-SEP-VN6IGBSACUQ2BRVR - [0:0]
:KUBE-SERVICES - [0:0]
:KUBE-SVC-ERIFXISQEP7F7OF4 - [0:0]
:KUBE-SVC-HXNKLKFPVH67VVNR - [0:0]
:KUBE-SVC-NPX46M4PTMTKRN6Y - [0:0]
:KUBE-SVC-TCOU7JCQXEZGVUNU - [0:0]
:KUBE-SVC-TCZPB7NCW5NUBBNF - [0:0]
:KUBE-SVC-W3OX4ZP4Y24AQZNW - [0:0]
-A PREROUTING -m comment --comment "kubernetes service portals" -j KUBE-SERVICES
-A OUTPUT -m comment --comment "kubernetes service portals" -j KUBE-SERVICES
-A POSTROUTING -m comment --comment "kubernetes postrouting rules" -j KUBE-POSTROUTING
-A KUBE-FW-HXNKLKFPVH67VVNR -m comment --comment "default/test-svc3: loadbalancer IP" -j KUBE-MARK-MASQ
-A KUBE-FW-HXNKLKFPVH67VVNR -m comment --comment "default/test-svc3: loadbalancer IP" -j KUBE-SVC-HXNKLKFPVH67VVNR
-A KUBE-FW-HXNKLKFPVH67VVNR -m comment --comment "default/test-svc3: loadbalancer IP" -j KUBE-MARK-DROP
-A KUBE-FW-TCZPB7NCW5NUBBNF -m comment --comment "default/test-svc2: loadbalancer IP" -j KUBE-MARK-MASQ
-A KUBE-FW-TCZPB7NCW5NUBBNF -m comment --comment "default/test-svc2: loadbalancer IP" -j KUBE-SVC-TCZPB7NCW5NUBBNF
-A KUBE-FW-TCZPB7NCW5NUBBNF -m comment --comment "default/test-svc2: loadbalancer IP" -j KUBE-MARK-DROP
-A KUBE-FW-W3OX4ZP4Y24AQZNW -m comment --comment "default/test-svc: loadbalancer IP" -j KUBE-MARK-MASQ
-A KUBE-FW-W3OX4ZP4Y24AQZNW -m comment --comment "default/test-svc: loadbalancer IP" -j KUBE-SVC-W3OX4ZP4Y24AQZNW
-A KUBE-FW-W3OX4ZP4Y24AQZNW -m comment --comment "default/test-svc: loadbalancer IP" -j KUBE-MARK-DROP
-A KUBE-MARK-DROP -j MARK --set-xmark 0x8000/0x8000
-A KUBE-MARK-MASQ -j MARK --set-xmark 0x4000/0x4000
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc:" -m tcp --dport 32762 -j KUBE-MARK-MASQ
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc:" -m tcp --dport 32762 -j KUBE-SVC-W3OX4ZP4Y24AQZNW
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc2:" -m tcp --dport 31395 -j KUBE-MARK-MASQ
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc2:" -m tcp --dport 31395 -j KUBE-SVC-TCZPB7NCW5NUBBNF
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc3:" -m tcp --dport 30727 -j KUBE-MARK-MASQ
-A KUBE-NODEPORTS -p tcp -m comment --comment "default/test-svc3:" -m tcp --dport 30727 -j KUBE-SVC-HXNKLKFPVH67VVNR
-A KUBE-POSTROUTING -m comment --comment "kubernetes service traffic requiring SNAT" -m mark --mark 0x4000/0x4000 -j MASQUERADE
-A KUBE-SEP-AM7JXX3GVLWQUEGV -s 172.30.1.2/32 -m comment --comment "kube-system/kube-dns:dns-tcp" -j KUBE-MARK-MASQ
-A KUBE-SEP-AM7JXX3GVLWQUEGV -p tcp -m comment --comment "kube-system/kube-dns:dns-tcp" -m tcp -j DNAT --to-destination 172.30.1.2:53
-A KUBE-SEP-CUBL663WM5NZNNPD -s 172.30.0.2/32 -m comment --comment "default/test-svc:" -j KUBE-MARK-MASQ
-A KUBE-SEP-CUBL663WM5NZNNPD -p tcp -m comment --comment "default/test-svc:" -m tcp -j DNAT --to-destination 172.30.0.2:4000
-A KUBE-SEP-EHB5LMMT7ZHPXTK7 -s 172.30.1.2/32 -m comment --comment "kube-system/kube-dns:dns" -j KUBE-MARK-MASQ
-A KUBE-SEP-EHB5LMMT7ZHPXTK7 -p udp -m comment --comment "kube-system/kube-dns:dns" -m udp -j DNAT --to-destination 172.30.1.2:53
-A KUBE-SEP-EX3CLRGG7675L5A5 -s 10.35.107.1/32 -m comment --comment "default/kubernetes:https" -j KUBE-MARK-MASQ
-A KUBE-SEP-EX3CLRGG7675L5A5 -p tcp -m comment --comment "default/kubernetes:https" -m recent --set --name KUBE-SEP-EX3CLRGG7675L5A5 --mask 255.255.255.255 --rsource -m tcp -j DNAT --to-destination 10.35.107.1:6443
-A KUBE-SEP-HMONFG7NF2GFVR6T -s 172.30.0.7/32 -m comment --comment "default/test-svc:" -j KUBE-MARK-MASQ
-A KUBE-SEP-HMONFG7NF2GFVR6T -p tcp -m comment --comment "default/test-svc:" -m tcp -j DNAT --to-destination 172.30.0.7:4000
-A KUBE-SEP-JVXIXMZ5HTKY5FKX -s 172.30.0.8/32 -m comment --comment "default/test-svc3:" -j KUBE-MARK-MASQ
-A KUBE-SEP-JVXIXMZ5HTKY5FKX -p tcp -m comment --comment "default/test-svc3:" -m tcp -j DNAT --to-destination 172.30.0.8:8080
-A KUBE-SEP-KPBZISPSGNLDQNT4 -s 172.30.0.4/32 -m comment --comment "default/test-svc2:" -j KUBE-MARK-MASQ
-A KUBE-SEP-KPBZISPSGNLDQNT4 -p tcp -m comment --comment "default/test-svc2:" -m tcp -j DNAT --to-destination 172.30.0.4:8080
-A KUBE-SEP-NVGCG5W3FEWFHW7E -s 172.30.0.9/32 -m comment --comment "default/test-svc3:" -j KUBE-MARK-MASQ
-A KUBE-SEP-NVGCG5W3FEWFHW7E -p tcp -m comment --comment "default/test-svc3:" -m tcp -j DNAT --to-destination 172.30.0.9:8080
-A KUBE-SEP-VN6IGBSACUQ2BRVR -s 172.30.0.3/32 -m comment --comment "default/test-svc2:" -j KUBE-MARK-MASQ
-A KUBE-SEP-VN6IGBSACUQ2BRVR -p tcp -m comment --comment "default/test-svc2:" -m tcp -j DNAT --to-destination 172.30.0.3:8080
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.110.164/32 -p tcp -m comment --comment "default/test-svc: cluster IP" -m tcp --dport 80 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.96.110.164/32 -p tcp -m comment --comment "default/test-svc: cluster IP" -m tcp --dport 80 -j KUBE-SVC-W3OX4ZP4Y24AQZNW
-A KUBE-SERVICES -d 10.35.107.10/32 -p tcp -m comment --comment "default/test-svc: loadbalancer IP" -m tcp --dport 80 -j KUBE-FW-W3OX4ZP4Y24AQZNW
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.105.164.138/32 -p tcp -m comment --comment "default/test-svc2: cluster IP" -m tcp --dport 80 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.105.164.138/32 -p tcp -m comment --comment "default/test-svc2: cluster IP" -m tcp --dport 80 -j KUBE-SVC-TCZPB7NCW5NUBBNF
-A KUBE-SERVICES -d 10.35.107.11/32 -p tcp -m comment --comment "default/test-svc2: loadbalancer IP" -m tcp --dport 80 -j KUBE-FW-TCZPB7NCW5NUBBNF
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.98.233.112/32 -p tcp -m comment --comment "default/test-svc3: cluster IP" -m tcp --dport 80 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.98.233.112/32 -p tcp -m comment --comment "default/test-svc3: cluster IP" -m tcp --dport 80 -j KUBE-SVC-HXNKLKFPVH67VVNR
-A KUBE-SERVICES -d 10.35.107.12/32 -p tcp -m comment --comment "default/test-svc3: loadbalancer IP" -m tcp --dport 80 -j KUBE-FW-HXNKLKFPVH67VVNR
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p udp -m comment --comment "kube-system/kube-dns:dns cluster IP" -m udp --dport 53 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.96.0.10/32 -p udp -m comment --comment "kube-system/kube-dns:dns cluster IP" -m udp --dport 53 -j KUBE-SVC-TCOU7JCQXEZGVUNU
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.10/32 -p tcp -m comment --comment "kube-system/kube-dns:dns-tcp cluster IP" -m tcp --dport 53 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.96.0.10/32 -p tcp -m comment --comment "kube-system/kube-dns:dns-tcp cluster IP" -m tcp --dport 53 -j KUBE-SVC-ERIFXISQEP7F7OF4
-A KUBE-SERVICES ! -s 10.244.0.0/16 -d 10.96.0.1/32 -p tcp -m comment --comment "default/kubernetes:https cluster IP" -m tcp --dport 443 -j KUBE-MARK-MASQ
-A KUBE-SERVICES -d 10.96.0.1/32 -p tcp -m comment --comment "default/kubernetes:https cluster IP" -m tcp --dport 443 -j KUBE-SVC-NPX46M4PTMTKRN6Y
-A KUBE-SERVICES -m comment --comment "kubernetes service nodeports; NOTE: this must be the last rule in this chain" -m addrtype --dst-type LOCAL -j KUBE-NODEPORTS
-A KUBE-SVC-ERIFXISQEP7F7OF4 -m comment --comment "kube-system/kube-dns:dns-tcp" -j KUBE-SEP-AM7JXX3GVLWQUEGV
-A KUBE-SVC-HXNKLKFPVH67VVNR -m comment --comment "default/test-svc3:" -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-JVXIXMZ5HTKY5FKX
-A KUBE-SVC-HXNKLKFPVH67VVNR -m comment --comment "default/test-svc3:" -j KUBE-SEP-NVGCG5W3FEWFHW7E
-A KUBE-SVC-NPX46M4PTMTKRN6Y -m comment --comment "default/kubernetes:https" -m recent --rcheck --seconds 10800 --reap --name KUBE-SEP-EX3CLRGG7675L5A5 --mask 255.255.255.255 --rsource -j KUBE-SEP-EX3CLRGG7675L5A5
-A KUBE-SVC-NPX46M4PTMTKRN6Y -m comment --comment "default/kubernetes:https" -j KUBE-SEP-EX3CLRGG7675L5A5
-A KUBE-SVC-TCOU7JCQXEZGVUNU -m comment --comment "kube-system/kube-dns:dns" -j KUBE-SEP-EHB5LMMT7ZHPXTK7
-A KUBE-SVC-TCZPB7NCW5NUBBNF -m comment --comment "default/test-svc2:" -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-VN6IGBSACUQ2BRVR
-A KUBE-SVC-TCZPB7NCW5NUBBNF -m comment --comment "default/test-svc2:" -j KUBE-SEP-KPBZISPSGNLDQNT4
-A KUBE-SVC-W3OX4ZP4Y24AQZNW -m comment --comment "default/test-svc:" -m statistic --mode random --probability 0.50000000000 -j KUBE-SEP-CUBL663WM5NZNNPD
-A KUBE-SVC-W3OX4ZP4Y24AQZNW -m comment --comment "default/test-svc:" -j KUBE-SEP-HMONFG7NF2GFVR6T
COMMIT
# Completed on Wed Aug  8 13:45:19 2018
# Generated by iptables-save v1.4.21 on Wed Aug  8 13:45:19 2018
*filter
:INPUT ACCEPT [2148:462843]
:FORWARD ACCEPT [0:0]
:OUTPUT ACCEPT [2090:550065]
:KUBE-EXTERNAL-SERVICES - [0:0]
:KUBE-FIREWALL - [0:0]
:KUBE-FORWARD - [0:0]
:KUBE-SERVICES - [0:0]
-A INPUT -j KUBE-FIREWALL
-A INPUT -m conntrack --ctstate NEW -m comment --comment "kubernetes externally-visible service portals" -j KUBE-EXTERNAL-SERVICES
-A FORWARD -m comment --comment "kubernetes forwarding rules" -j KUBE-FORWARD
-A OUTPUT -j KUBE-FIREWALL
-A OUTPUT -m conntrack --ctstate NEW -m comment --comment "kubernetes service portals" -j KUBE-SERVICES
-A KUBE-FIREWALL -m comment --comment "kubernetes firewall for dropping marked packets" -m mark --mark 0x8000/0x8000 -j DROP
-A KUBE-FORWARD -m comment --comment "kubernetes forwarding rules" -m mark --mark 0x4000/0x4000 -j ACCEPT
-A KUBE-FORWARD -s 10.244.0.0/16 -m comment --comment "kubernetes forwarding conntrack pod source rule" -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
-A KUBE-FORWARD -d 10.244.0.0/16 -m comment --comment "kubernetes forwarding conntrack pod destination rule" -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
COMMIT
# Completed on Wed Aug  8 13:45:19 2018
